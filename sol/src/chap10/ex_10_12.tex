
\exercise{The most robust network?}{4}
Excess degree makes a network robust against breaking of the giant component. But consider that an ER network with $N=10,000$ nodes and $K=20,000$ links has only excess degree $q=4$. Given this number of nodes and links, how would you build a connected network that has maximally high excess degree? Show that you can reach $q=4999.00075$. 

\solution
We know that we get high excess degree from having some nodes of very high degree. So we start by connecting one node to all other nodes. Now we have one node of degree 9999 and 9999 nodes of degree 1, and we have used 9999 links. 

We can't increase the degree of our highest degree node further, but we can increase the number of high-degree nodes. Let's pick a second node and connect it to every node it is not yet connected to. It takes a further 9998 links to do that. Now we have two nodes of degree 9999 and 9998 nodes of degree 2 and we have used all but 3 links. So, we can still pick one of the nodes of degree 2 and connect it to 3 other nodes of degree 2. 

In summary we now 2 nodes of degree 9999, 1 node of degree 5, 3 nodes of degree 3, and 9994 nodes of degree 2. The degree distribution is 
\eq{
p_k = (2 \delta_{k,9999} + \delta_{k,5}+3\delta_{k,3}+9994 \delta_{k,2})/10000
}
We can quickly verify 
\eqa{
z&=&\sum k p_k \\
 &=&(2\cdot 9999 + 1\cdot 5 + 3 \cdot 3 + 9994\cdot 2)/10000\\
 &=&(19998+5+9+19988)/10000=4  
}
it would have been easier to get this from $z=2K/N$ but going the long way as well is a good test to make sure we accounted for all nodes and links. 

Now we can compute the excess degree distribution
\eqa{
q_k&=&(k+1)p_{k+1}/z \\
  &=& (k+1)(2 \delta_{k+1,9999} + \delta_{k+1,5}+3\delta_{k+1,3}+9994 \delta_{k+1,2})/40000 \\
  &=& (2\cdot 9999 \delta_{k,9999} + 1\cdot 5\delta_{k+1,5}+3\cdot3\delta_{k+1,3}
  + 9994 \cdot 2 \delta_{k+1,2})/40000 \\ 
  &=& (19998 \delta_{k,9999} + 5\delta_{k+1,5}+9\delta_{k+1,3}+19988 \delta_{k+1,2})/40000   
}
which allows us to compute the mean excess degree
\eqa{
q&=&\sum k q_k \\
&=& \sum k (19998 \delta_{k+1,9999} + 5\delta_{k+1,5}+9\delta_{k+1,3}+19988 \delta_{k+1,2})/40000 \\
&=& \sum  (19998k \delta_{k+1,9999} + 5k\delta_{k+1,5}+9k\delta_{k+1,3}+19988k\delta_{k+1,2})/40000 \\
&=& (19998\cdot 9998 + 5\cdot 4 +9\cdot 2+ 19988\cdot 1)/40000 \\
&=& (199940004+20+18+19988)/40000\\
&=& 199960030/40000 = 4999.00075,
}
which makes sense as almost half the links have a node of a degree that is almost 10000 on one end.
